---
- hosts: localhost
  vars:
    monitorix: monitorix_3.9.0-izzy1_all.deb
    downloads: /home/{{ansible_user_id}}/Downloads
  become: no
  tasks:
  - name: install packages
    apt: name={{ item }} update_cache=yes state=latest
    with_items:
      - chromium-browser
    become: true
  - name: copy autostart
    copy: >
      src=./autostart/
      dest=~/.config/autostart

#
# Get rid of the keyring, annoying
#
  - name: Get rid of the keyring, annoying
    apt: name={{ item }} state=absent
    with_items:
      - gnome-keyring
    become: true

#
# Chomium setting ( gave up )
# Preferences file is overwridden at startup and no way found to prevent
# related? https://wiki.archlinux.org/index.php/Chromium/Tips_and_tricks#Chromium_overrides.2Foverwrites_Preferences_file
#
# A file shown below is likely the target
# ~/.config/chromium/Default/Preferences
# The file would be installed with Chromium itself. It exists right after installation of Chomium.
# - name: Chromium Setting - modify JSON by node
#   command: node src/chromium.js

# gnome terminal setting ( gave up, doesn't work )
# gsettings list-recursively | grep -i org.gnome.Terminal
# ~/.gconf/apps/gnome-terminal/profiles
